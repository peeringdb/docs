<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://docs.peeringdb.com/howto/api_keys/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>HOWTO: Get Started with API Keys - PeeringDB Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../../extra.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-14LRNCMV44"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-14LRNCMV44');
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">PeeringDB Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">About</a>
                            </li>
                            <li class="navitem">
                                <a href="../../gov/" class="nav-link">Governance</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Committees & Task Forces <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../committee/admin/" class="dropdown-item">Admin Committee</a>
</li>
                                    
<li>
    <a href="../../committee/outreach/" class="dropdown-item">Outreach Committee</a>
</li>
                                    
<li>
    <a href="../../committee/product/" class="dropdown-item">Product Committee</a>
</li>
                                    
<li>
    <a href="../../taskforce/dataownership/" class="dropdown-item">Data Ownership Task Force</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Technical <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../release_notes/" class="dropdown-item">Release Notes</a>
</li>
                                    
<li>
    <a href="../../api_specs/" class="dropdown-item">API Specs</a>
</li>
                                    
<li>
    <a href="../../ix-f-json-import-rules/" class="dropdown-item">IX-F JSON</a>
</li>
                                    
<li>
    <a href="../../oauth/" class="dropdown-item">OAuth</a>
</li>
                                    
<li>
    <a href="../../translation/" class="dropdown-item">Translations</a>
</li>
                                    
<li>
    <a href="https://github.com/peeringdb/peeringdb/tree/master/docs" class="dropdown-item">Developer Documentation</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../howtos/" class="nav-link">HOWTOs</a>
                            </li>
                            <li class="navitem">
                                <a href="../../faq/" class="nav-link">FAQs</a>
                            </li>
                            <li class="navitem">
                                <a href="../../blogs/" class="nav-link">Blogs</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#howto-get-started-with-api-keys" class="nav-link">HOWTO: Get Started with API Keys</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#api" class="nav-link">API</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#command-line-example-using-python-and-requests" class="nav-link">Command line example using Python and requests</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#command-line-example-using-curl" class="nav-link">Command line example using curl</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#improving-this-howto" class="nav-link">Improving this HOWTO</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="howto-get-started-with-api-keys">HOWTO: Get Started with API Keys</h1>
<p>PeeringDB, as the name suggests, was set up to facilitate peering between networks and peering coordinators. In recent years, the vision of PeeringDB has developed to keep up with the speed and diverse manner in which the Internet is growing. The database is no longer just for peering and peering related information. It now includes all types of interconnection data for networks, clouds, services, and enterprise, as well as interconnection facilities that are developing at the edge of the Internet. We believe in, and rely on the community to grow and improve the PeeringDB database. </p>
<p>The volunteers who run the database are passionate about security, privacy, integrity, and validation of the data in the database. Even though PeeringDB is a freely available and public tool, users strictly adhere to the acceptable use policy, which prevents the database from being used for commercial purposes and discourages unsolicited communications. This is largely policed by the community and has been very effective since PeeringDB was launched.</p>
<h2 id="api">API</h2>
<h3 id="what-is-our-api">What is our API?</h3>
<p>An Application Programming Interface (API) is a way for computer software to communicate with other computers software. Our API allows PeeringDB users to query and update PeeringDB programmatically. That means they can automate work instead of using the website.</p>
<h3 id="what-are-api-keys">What Are API keys?</h3>
<p>An API key is a secret token for identifying and authenticating a user. That user can be an individual or an organization. Thatâ€™s why we support both user and organizational API keys.</p>
<p>PeeringDB offers API keys for authenticating API requests. There are two main forms of API keys:</p>
<ul>
<li>User-level </li>
<li>Organizational-level</li>
</ul>
<h3 id="user-level-api-keys">User-level API keys</h3>
<p>These API keys are tied to an individual user account and can be created from the user profile page. </p>
<p>There are only two permission levels: a normal key will mirror the same permissions of the user, while a readonly key will have read only permissions to all the same namespaces as the user.</p>
<p><img alt="&quot;form to add user api key&quot;" src="../images/user-key-add.png" /></p>
<h3 id="organization-level-api-keys">Organization-level API keys</h3>
<p>These API keys are created and revoked from the organization admin panel. Each key gets its own custom permissions, which can be modified from the API Key Permissions panel.</p>
<p>Each key must have an email attached to it. This is because keys may be allowed to create and modify data in PeeringDB, and we need a contact to reach out to in case of questions.</p>
<p>You should use an organization-level API key for automation that should not be tied to individual users.</p>
<p><img alt="&quot;api key creation&quot;" src="../images/org-key-added.png" /></p>
<p><img alt="&quot;manage organization api key permissions&quot;" src="../images/org-key-permissions.png" /></p>
<h3 id="copy-or-write-down-keys-immediately">Copy or write down keys immediately</h3>
<p>The full API key string is only ever exposed to the user or organization <strong>at its moment of creation</strong>. If this string is lost, then the user or organization should revoke that key and create and permission a new one.</p>
<h2 id="command-line-example-using-python-and-requests">Command line example using Python and requests</h2>
<p>API keys allow developers to interact with their PeeringDB account programmatically, rather than through the website. Here is an example script in Python. It uses the module Requests to GET data about a particular Facility, and then sends a PUT request to modify that data.</p>
<p>This example assumes we have an environment variable set with our API key. To do that from the command line, we can run:</p>
<pre><code class="language-sh">export API_KEY=&quot;[created api key string]&quot;
</code></pre>
<p>Then the Python script would look like the following. First we get the API key from the environment:</p>
<pre><code class="language-py">import os

import requests

API_KEY = os.environ.get(&quot;API_KEY&quot;)
</code></pre>
<p>We set the url for the Facility we want to interact with. Note the <code>/api</code> in the URL, which signals we are making calls to the REST API.</p>
<pre><code class="language-py">URL = &quot;https://www.peeringdb.com/api/fac/1&quot;
</code></pre>
<p>We set the headers to include our API key as authorization. Printing the <code>headers</code> variable should allow us to see the API key.</p>
<pre><code class="language-py">headers = {&quot;Authorization&quot;: &quot;Api-Key &quot; + API_KEY}
print(headers)
</code></pre>
<p>First we make a GET request, to simply get data about example Facility number 1</p>
<pre><code class="language-py">response = requests.get(URL, headers=headers)
data = response.json()[&quot;data&quot;][0]
print(data)
</code></pre>
<p>Printing this data allows us to see what fields we would like to change. Let's say we decide to change the name of this facility. We overwrite the value for key "name"</p>
<pre><code class="language-py">data[&quot;name&quot;] = &quot;Newly decided name&quot;
</code></pre>
<p>Then we use a PUT request to send that modified data back to PeeringDB.<br />
Note that this time, we must provide data to the API, using the keyword argument "data"</p>
<pre><code class="language-py">put_response = requests.put(URL, headers=headers, data=data)
</code></pre>
<p>We can print the status code to see if our request was successful.</p>
<pre><code class="language-py">print(put_response.status_code)
</code></pre>
<p>This will return a code 200 to signal success.</p>
<p>Additionally the content of the request should include data for the now modified Facility</p>
<pre><code class="language-py">print(put_response.json())
</code></pre>
<p>Would return a dictionary of the values of the now modified Facility.</p>
<h2 id="command-line-example-using-curl">Command line example using curl</h2>
<p>API keys provide a cleaner way to authenticate API requests. PeeringDB recommends the command line user creates a API_KEY variable like so</p>
<pre><code class="language-sh">export API_KEY=&quot;[created api key string]&quot;
</code></pre>
<p>then requests can be made with Curl like in the following examples:</p>
<h3 id="get">GET</h3>
<p>The following request would return JSON data coresponding to the <a href="https://www.peeringdb.com/ix/239">ChiX</a> Internet Exchange.</p>
<pre><code class="language-sh">curl -H &quot;Authorization: Api-Key $API_KEY&quot; -H &quot;Content-Type: application/json&quot; -X GET https://www.peeringdb.com/api/ix/239
</code></pre>
<h3 id="post">POST</h3>
<p>The following request would create a new Network under the organization <a href="https://www.peeringdb.com/org/10843">United IX</a>.</p>
<pre><code class="language-sh">curl -H &quot;Authorization: Api-Key $API_KEY&quot; -H &quot;Content-Type: application/json&quot; -X POST --data &quot;{\&quot;&quot;org_id&quot;\&quot;:\&quot;10843\&quot;, \&quot;&quot;name&quot;\&quot;:\&quot;Brand New Network\&quot;, \&quot;&quot;asn&quot;\&quot;:\&quot;63311\&quot;}&quot; https://www.peeringdb.com/api/net
</code></pre>
<h3 id="put">PUT</h3>
<p>The following request would update the data about a particular Network, <a href="https://www.peeringdb.com/net/7889">ChIX Route Servers</a>, in particular changing the name to "Edited Name".</p>
<pre><code class="language-sh">curl -H &quot;Authorization: Api-Key $API_KEY&quot; -H &quot;Content-Type: application/json&quot; -X PUT --data &quot;{\&quot;&quot;org_id&quot;\&quot;:\&quot;10843\&quot;, \&quot;&quot;name&quot;\&quot;:\&quot;Edited Name\&quot;, \&quot;&quot;asn&quot;\&quot;:\&quot;33713\&quot;}&quot; https://www.peeringdb.com/api/net/7889
</code></pre>
<h3 id="delete">DELETE</h3>
<p>The following request would delete the <a href="https://www.peeringdb.com/ix/239">ChiX</a> Internet Exchange. The API key holder would need delete privileges to that particular Exchange.</p>
<pre><code class="language-sh">curl -H &quot;Authorization: Api-Key $API_KEY&quot; -H &quot;Content-Type: application/json&quot; -X DELETE https://www.peeringdb.com/api/ix/239
</code></pre>
<h2 id="improving-this-howto">Improving this HOWTO</h2>
<p>Please let us know how we could improve this article. Send a mail to the <a href="mailto:outreachcom@lists.peeringdb.com">Outreach Committee</a>.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
 <table border="0" cellpadding ="0" cellspacing ="0"><tr>
 <a target='_blank' href='https://www.peeringdb.com/'><img align=left style='height:69px' src='/img/./pdb-logo-coloured.svg' alt='PeeringDB Logo'></a>
 </tr></table>
 <table border="0" cellpadding ="0" cellspacing ="0"><tr>
 <a target='_blank' href='https://www.facebook.com/peeringdb'><img align=left style='height:50px; padding:5px' src='/img/social-facebook.png' alt='Facebook Logo'></a>
 <a target='_blank' href='https://github.com/peeringdb/peeringdb/issues'><img align=left style='height:50px; padding:5px' src='/img/social-github.png' alt='GitHub Logo'></a>
 <a target='_blank' href='https://www.linkedin.com/company/peeringdb'><img align=left style='height:50px; padding:5px' src='/img/social-linkedin.png' alt='LinkedIn Logo'></a>
 <a target='_blank' href='https://twitter.com/PeeringDB'><img align=left style='height:50px; padding:5px' src='/img/social-x.png' alt='X Logo'></a>
 <a target='_blank' href='https://www.youtube.com/channel/UCOrYWUg-dbL9UTFV_Lry6Wg'><img align=left style='height:50px; padding:5px' src='/img/social-youtube.png' alt='YouTube Logo'></a>
 </tr></table>

        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
